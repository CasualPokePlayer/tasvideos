@page "{id}"
@model IndexModel
@{
	ViewData["Title"] = $"Viewing RAM Addresses for {Model.GameName}";
}

<warning-alert>
	Ram address support will be removed from TASVideos. For applicable systems, a .wch file will be generated to replace see the <a asp-page="/Forums/Topics/Index" asp-route-id="23443">discussion topic</a> for details
</warning-alert>
@functions
{
	string FormatAddress(long address)
	{
		if (address < 0x10000)
		{
			return address.ToString("X4");
		}

		if (address < 0x1000000)
		{
			return address.ToString("X6");
		}

		if (address < 0x100000000)
		{
			return address.ToString("X8");
		}

		return address.ToString("X16");
	}
}

<div class="table-container">
	<table class="table table-striped table-bordered">
		<tr>
			<th>Domain</th>
			<th>Address</th>
			<th>Data Type</th>
			<th>Signed</th>
			<th>Endian</th>
			<th>Description</th>
		</tr>
		@foreach (var address in Model.Addresses.OrderBy(a => a.Address))
		{
			<tr>
				<td>@address.GameRamAddressDomain!.Name</td>
				<td>@FormatAddress(address.Address)</td>
				<td>@address.Type</td>
				<td>@address.Signed</td>
				<td>@address.Endian</td>
				<td>@address.Description</td>
			</tr>
		}
	</table>
</div>
